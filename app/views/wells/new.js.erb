var scrollTop = window.pageYOffset

<% if @field.nil? %>

$('#alert').remove();
$('body').append("<%= j render 'layouts/modal_error', title: "Problem Creating New Well", message: "Select a field, before you can create a new well." %>");
$('#alert').modal({show: true});


<% else %>

if ($('#modal_popup').find('.new-well-form').length == 0) {
    $('#modal_popup').find('.modal-content').append('<%= j render('new_well') %>');
    $('#modal_popup').css('visibility', 'visible');
    $('#modal_popup').find('.modal-popup').css('margin-top', scrollTop + 200);
    $('#modal_popup').height($(document).height() + 100);
}

if (!window.matchMedia || !window.matchMedia("(max-device-width: 1024px)").matches) {
    $('.job-type-description-target').tooltip();
    $('.tooltip-info').tooltip();
    $('.unit-tooltip').tooltip();
}

<% end %>

