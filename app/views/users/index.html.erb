<% provide(:title, 'Users') %>

<div class="page_header">
  <h1>Users</h1>

  <h2 class="paginated-count">
    <% if @users.count > 0 %>
        <% if params[:page].present? %>
            <%= ((Integer(params[:page]) - 1) * 10) + 1 %> - <%= [((Integer(params[:page]) - 1) * 10) + 10, @users.total_count].min %> of <%= @users.total_count %>
        <% else %>
            1 - <%= [10, @users.count].min %> of <%= @users.total_count %>
        <% end %>
    <% end %>
  </h2>

  <% if signed_in_admin? %>
      <%= link_to "+ Add New User", new_user_path, class: "bluebtn page_header_button" %>
  <% end %>

  <%= form_tag users_path, :method => 'get', :id => "users_search", class: "inline search-box" do %>
      <%= text_field_tag :search, params[:search], placeholder: "Search users", class: "search-query" %>
  <% end %>
</div>


<div id="users_list">
  <%= will_paginate %>
  <div id="users" class="list">
    <%= render @users %>
  </div>
  <%= will_paginate %>
</div>